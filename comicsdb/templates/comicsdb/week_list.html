{% extends parent_template|default:"base.html" %}
{% load static %}
{% block title %}
    {% if future %}
        Future Releases - Metron
    {% else %}
        New Comics - {{ release_day|date:'F d, Y' }} - Metron
    {% endif %}
{% endblock %}
{% block content %}
    <header class="block has-text-centered">
        <h1 class="title">
            {% if not future %}
                Comics Released the Week of {{ release_day|date:'F d, Y' }}
            {% else %}
                Future Releases
            {% endif %}
        </h1>
    </header>
    {% if issue_list %}
        <section>
            <div class="columns">
                {# Main Column #}
                <div class="column">
                    {# Navigation Bar #}
                    <nav class="level" aria-label="Weekly releases navigation">
                        <div class="level-left">
                            <div class="level-item">
                                <p class="subtitle is-5">
                                    {% if page_obj.paginator %}
                                        <strong>{{ page_obj.paginator.count }}</strong> Issue{{ page_obj.paginator.count|pluralize }}
                                    {% else %}
                                        <strong>{{ issue_list.count }}</strong> Issue{{ issue_list.count|pluralize }}
                                    {% endif %}
                                </p>
                            </div>
                        </div>
                        {% if user.is_authenticated %}
                            <div class="level-right">
                                <div class="level-item">
                                    <a class="button is-rounded is-primary"
                                       href="{% url 'issue:create' %}"
                                       title="Add a new issue"
                                       aria-label="Add a new issue">
                                        <span class="icon is-small" aria-hidden="true">
                                            <i class="fas fa-plus"></i>
                                        </span>
                                        <span>New</span>
                                    </a>
                                </div>
                            </div>
                        {% endif %}
                    </nav>
                    {# Issue Cards #}
                    {% include "comicsdb/partials/issue_card_grid.html" with items=issue_list %}
                </div>
                {# Search Sidebar #}
                <div class="column is-one-fifth">
                    {% include "comicsdb/partials/issue_search_box.html" with series_type=series_type %}
                </div>
            </div>
        </section>
    {% else %}
        <section class="hero">
            <div class="hero-body">
                <div class="container has-text-centered">
                    <div class="content">
                        <span class="icon is-large has-text-grey-light" aria-hidden="true">
                            <i class="fas fa-calendar-times fa-3x"></i>
                        </span>
                        <h2 class="title is-4">No Releases Found</h2>
                        <p class="subtitle is-6 has-text-grey">
                            {% if future %}
                                No future releases have been scheduled yet.
                            {% else %}
                                No issues were released this week.
                            {% endif %}
                        </p>
                        {% if user.is_authenticated %}
                            <a class="button is-rounded is-primary is-medium"
                               href="{% url 'issue:create' %}"
                               title="Add a new issue"
                               aria-label="Add a new issue">
                                <span class="icon" aria-hidden="true">
                                    <i class="fas fa-plus"></i>
                                </span>
                                <span>Add Issue</span>
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </section>
    {% endif %}
{% endblock %}
{% block pagination %}
    {% load pagination_tags %}
    {% include "comicsdb/partials/pagination.html" %}
{% endblock %}
